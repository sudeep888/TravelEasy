# backend/.env - Backend Environment Variables

# ============================================
# Application Configuration
# ============================================
NODE_ENV=production
PORT=3001
HOST=0.0.0.0

# ============================================
# Database Configuration (PostgreSQL)
# ============================================
DATABASE_URL=postgresql://admin:your_password@localhost:5432/passenger_rights
DB_HOST=localhost
DB_PORT=5432
DB_NAME=passenger_rights
DB_USER=admin
DB_PASSWORD=your_secure_password_here
DB_MAX_CONNECTIONS=20
DB_IDLE_TIMEOUT=30000
DB_CONNECTION_TIMEOUT=2000

# ============================================
# Redis Configuration (Caching)
# ============================================
REDIS_URL=redis://localhost:6379
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=your_redis_password_here
REDIS_DB=0
REDIS_TTL=3600  # Cache TTL in seconds

# ============================================
# Security Configuration
# ============================================
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production
JWT_EXPIRES_IN=7d
ENCRYPTION_KEY=your-32-character-encryption-key-here
BCRYPT_SALT_ROUNDS=12

# Rate Limiting
RATE_LIMIT_WINDOW_MS=900000  # 15 minutes
RATE_LIMIT_MAX_REQUESTS=100
RATE_LIMIT_MAX_REQUESTS_ADMIN=1000

# CORS Configuration
FRONTEND_URL=https://passengerrights.com
ALLOWED_ORIGINS=https://passengerrights.com,https://www.passengerrights.com
CORS_CREDENTIALS=true

# ============================================
# Monitoring & Logging
# ============================================
LOG_LEVEL=info
LOG_FORMAT=json
SENTRY_DSN=https://xxxxxxxxxxxxxxxxxxxxxx@sentry.io/xxxxxxx
NEW_RELIC_LICENSE_KEY=your_new_relic_key_here
NEW_RELIC_APP_NAME=passenger-rights-backend

# ============================================
# Email Configuration (for notifications)
# ============================================
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=notifications@passengerrights.com
SMTP_PASSWORD=your_email_password_here
EMAIL_FROM=noreply@passengerrights.com
EMAIL_FROM_NAME=Passenger Rights Platform

# ============================================
# File Storage (for PDFs, etc.)
# ============================================
UPLOAD_DIR=./uploads
MAX_FILE_SIZE=5242880  # 5MB
ALLOWED_FILE_TYPES=pdf,jpg,jpeg,png

# AWS S3 Configuration (optional)
AWS_ACCESS_KEY_ID=your_aws_access_key
AWS_SECRET_ACCESS_KEY=your_aws_secret_key
AWS_REGION=ap-south-1
AWS_S3_BUCKET=passenger-rights-documents
AWS_S3_ENDPOINT=https://s3.ap-south-1.amazonaws.com

# ============================================
# External API Integrations
# ============================================
# Flight Data API (optional)
FLIGHT_API_KEY=your_flight_api_key
FLIGHT_API_BASE_URL=https://api.flightapi.com/v1

# Airline Data API
AIRLINE_API_KEY=your_airline_api_key
AIRLINE_API_URL=https://api.aviationstack.com/v1

# ============================================
# Feature Flags
# ============================================
ENABLE_EMAIL_NOTIFICATIONS=false
ENABLE_PDF_GENERATION=true
ENABLE_CACHING=true
ENABLE_RATE_LIMITING=true
ENABLE_COMPRESSION=true

# ============================================
# Admin Configuration
# ============================================
ADMIN_USERNAME=admin
ADMIN_PASSWORD=your_admin_password_here
ADMIN_EMAIL=admin@passengerrights.com

# ============================================
# Application URLs
# ============================================
APP_URL=https://passengerrights.com
API_URL=https://api.passengerrights.com
DOCS_URL=https://docs.passengerrights.com

# ============================================
# Session Configuration
# ============================================
SESSION_SECRET=your_session_secret_key
SESSION_MAX_AGE=86400000  # 24 hours
SESSION_COOKIE_NAME=passenger_rights_session
SESSION_COOKIE_SECURE=true
SESSION_COOKIE_HTTPONLY=true
SESSION_COOKIE_SAMESITE=lax

# ============================================
# Development Only (Override in production)
# ============================================
# NODE_ENV=development
# LOG_LEVEL=debug
# ENABLE_SWAGGER=true
# DATABASE_URL=postgresql://admin:password@localhost:5432/passenger_rights_dev